const productsBtn=document.querySelectorAll(".btn-buy"),cartProductsWrap=document.querySelector(".cart__inner"),clearBtn=document.querySelector(".btn-clear"),randomId=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),removeSpaces=t=>t.replace(/\s/g,""),priceWithSpaces=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),generateCartInner=(t,e,r)=>`\n\t\t<div class="cart__product" data-id='${r}'>\n\t\t\t<div class="cart__product-header">\n\t\t\t\t<div class="cart__product-info"><a class="cart__product-name" href="#">${t}</a>\n\t\t\t\t\t<div class="cart__product-price"><span>${priceWithSpaces(e)}</span>грн</div>\n\t\t\t\t</div><a class="cart__product-delete btn-delete" href="#">Удалить</a>\n\t\t\t</div>\n\t\t</div>\n\t`,deleteFromCart=()=>{document.querySelector(".cart__product").dataset.id;document.querySelector(".cart__product").remove()};productsBtn.forEach(t=>{t.closest(".card").setAttribute("data-id",randomId()),t.addEventListener("click",t=>{let e=t.currentTarget.closest(".card"),r=e.dataset.id,c=e.querySelector(".card__descr").textContent,a=parseInt(removeSpaces(e.querySelector(".card__price").textContent));cartProductsWrap.insertAdjacentHTML("afterbegin",generateCartInner(c,a,r))})}),cartProductsWrap.addEventListener("click",t=>{t.target.classList.contains("btn-delete")&&deleteFromCart(t.target.closest(".cart__product"))}),clearBtn.addEventListener("click",()=>{cartProductsWrap.innerHTML.length&&document.querySelectorAll(".cart__product").forEach(t=>t.remove())});